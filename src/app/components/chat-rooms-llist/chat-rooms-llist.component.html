<div class="rooms-list">

  <nb-card>
    <div class="filters">
      <div class="filter">
        <div class="counter">{{counter.getChatsCountByStatus('new', actualUserId)}}</div>
        <!-- <button nbButton status="success" shape="round" size="small">
          New
        </button> -->
        <div class="filter-switch" (click)="showByStatus('new')">
          חדשות
        </div>
      </div>
      <div class="filter">
        <div class="counter">{{counter.getChatsCountByStatus('active', actualUserId)}}</div>
        <div class="filter-switch" (click)="showByStatus('active')">
          פעילות
        </div>
      </div>
      <div class="filter">
        <div class="counter">{{counter.getChatsCountByStatus('resolved', actualUserId)}}</div>
        <div class="filter-switch" (click)="showByStatus('resolved')">
          נפתרו
        </div>
      </div>
      <div class="filter">
        <div class="counter">{{counter.getChatsCountByStatus('archived', actualUserId)}}</div>
        <div class="filter-switch" (click)="showByStatus('archived')">
          ארכיון
        </div>
      </div>
    </div>
  </nb-card>
  <nb-card class="chats">
    <div class="notes-card-header">
      <span>שיחות</span>
      <nb-form-field>
        <nb-icon nbPrefix icon="search-outline" pack="eva"></nb-icon>
        <input type="text" nbInput fullWidth shape="round" placeholder="חיפוש" [(ngModel)]="searchValue"
          (ngModelChange)="doSearch($event)">
      </nb-form-field>
    </div>
    <app-chat-room-item *ngFor="let room of availableChats(filteredRooms || rooms)" [room]="room"
      [activeChatId]="activeChatId" (roomChanged)="chatRoomChanged($event)" (removeChat)="deleteChat($event)">
    </app-chat-room-item>
  </nb-card>

</div>